<h1 class="text-center">Ajouter une borne</h1>

<form [formGroup]="form" (ngSubmit)="submit()" class="max-w-2xl mx-auto p-6 m-10 space-y-6 flex flex-col">

  <!-- Puissance -->
  <div class="flex flex-col md:flex-row md:items-center gap-2 md:gap-16">
    <label for="powerId" class="w-full md:w-40 text-gray-700">
      Puissance
    </label>
    <select id="powerId" formControlName="powerId"
      class="w-full flex-1 px-4 py-2 border border-gray-400 rounded-full bg-white">
      <option value="">-- Choisir --</option>
      <option *ngFor="let p of powers" [value]="p.id">
        {{ p.kvaPower }} kVA
      </option>
    </select>
  </div>

  <!-- Prix horaire -->
  <div class="flex flex-col md:flex-row md:items-center gap-2 md:gap-16">
    <label for="hourlyRate" class="w-full md:w-40 text-gray-700">
      Prix par heure (€)
    </label>
    <input id="hourlyRate" type="number" step="0.1" formControlName="hourlyRate"
      class="w-full flex-1 px-4 py-2 border border-gray-400 rounded-full bg-white" />
  </div>

  <!-- Borne personnalisée -->
  <div class="flex items-center gap-4 md:ml-40">
    <input id="isCustom" type="checkbox" formControlName="isCustom" class="h-4 w-4" />
    <label for="isCustom" class="text-gray-700">
      Borne personnalisée
    </label>
  </div>

  <!-- Instructions -->
  <div class="flex flex-col md:flex-row md:items-start gap-2 md:gap-16">
    <label for="instruction" class="w-full md:w-40 text-gray-700">
      Instructions
    </label>
    <textarea id="instruction" formControlName="instruction" rows="3"
      class="w-full flex-1 px-4 py-2 border border-gray-400 rounded-lg bg-white resize-none"
      placeholder="Optionnel"></textarea>
  </div>

  <h2 class="font-bold mt-6">Position de la borne</h2>

  <app-location-map (positionSelected)="onPositionSelected($event)">
  </app-location-map>


  <!-- Bouton -->
  <input type="submit" class="button" value="Enregistrer" [disabled]="form.invalid" />

</form>